<html>

<head>
    <title>Reaprendendo Javascript</title>
</head>

<body>
</body>
<html>
<script>
    let bruxos = [{
        nome: 'Harry Potter',
        caracteristicas: ['honra', 'honesto']
    }, {
        nome: 'Hermione Granger',
        caracteristicas: ['honra', 'honesto']
    }, {
        nome: 'Luna Lovegood',
        caracteristicas: ['sonhador', 'amigo']
    }, {
        nome: 'Draco Malfoy',
        caracteristicas: ['ambição', 'desonesto']
    }, {
        nome: 'Ronny Weasley',
        caracteristicas: ['honra', 'honesto']
    }];

    let casas = [{
        nome: 'Grifinoria',
        caracteristicaPrincipal: 'honra'
    }, {
        nome: 'Lufa-Lufa',
        caracteristicaPrincipal: 'sonhador'
    }, {
        nome: 'Sonserina',
        caracteristicaPrincipal: 'desonesto'
    }];

    var chapeuSeletor = {

        fazerSelecaoCasa: (pBruxo, pCasas) => {

            let bruxoCaracteristicas = pBruxo.caracteristicas;
            let casaDoBruxo = pCasas.find((casa) => {
                return bruxoCaracteristicas.indexOf(casa.caracteristicaPrincipal) > -1;
            });

            let retorno = casaDoBruxo ? `aluno: ${pBruxo.nome} | ${casaDoBruxo.nome}` : undefined;
            return retorno;
        }
    };

    ((bruxosVet, casasVet) => {
        /*
        let iterador = bruxosVet[Symbol.iterator]();
        let proximo = iterador.next();

        do {
            let bruxo = proximo.value;
            console.log(chapeuSeletor.fazerSelecaoCasa(bruxo, casasVet));
            proximo = iterador.next();
        } while (!proximo.done);
        */

        for (let bruxo of bruxosVet) {
            console.log(chapeuSeletor.fazerSelecaoCasa(bruxo, casasVet));
        }

    })(bruxos, casas);
</script>